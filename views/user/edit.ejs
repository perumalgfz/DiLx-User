<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Edit User</title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>

<body class="container" style="margin-top: 50px;">

    <% if (messages.error) { %>
        <div class="alert alert-danger" role="alert">
            <%- messages.error %>
        </div>
        <% } %>

            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Edit User </h4>
                    <ul class="nav nav-pills w-100">
                        <li class="nav-pill ml-auto">
                            <a class="nav-link active" href="/user">Home</a>
                        </li>
                    </ul>
                </div>

                <div class="card-body">
                    <form action="/update/<%= id %>" method="post">
                        <div class="form-group">
                            <label>First Name*: </label>
                            <input type="text" class="form-control" name="firstname" value="<%= firstname %>"
                                autocomplete="off" minlength="3" maxlength="30" >
                        </div>
                        <div class="form-group">
                            <label>Last Name*:</label>
                            <input type="text" class="form-control" name="lastname" value="<%= lastname %>"
                                autocomplete="off" minlength="3" maxlength="30" >
                        </div>
                        <div class="form-group">
                            <label>Email*:</label>
                            <input type="email" class="form-control" name="email" value="<%= email %>" readonly
                                autocomplete="off" >
                        </div>
                        <div class="form-group">
                            <label>Description:</label>
                            <input type="text" class="form-control" name="description" value="<%= description %>"
                                autocomplete="off">
                        </div>
                        <div class="form-group">
                            <label>Gender:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="gender" value="male" id="male" <% if
                                    (gender=="male" ){ %>checked<% } %> >
                                    <label class="form-check-label" for="male">
                                        Male
                                    </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="gender" value="female" id="female" <%
                                    if (gender=="female" ){ %>checked<% } %>>
                                    <label class="form-check-label" for="female">
                                        Female
                                    </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Hobbies</label>
                            <input type="checkbox" id="hobby" name="hobby" value="sing" 
                            <% if(hobby){
                            var arr=hobby.split(",").map(function (hobby) { %>
                            <% if (hobby=="sing" ) { %> checked <% } %>
                            <% }); } %> /> Sing 
    
                            <input type="checkbox" id="hobby" name="hobby" value="guitarplay" 
                            <% if(hobby){
                                var arr=hobby.split(",").map(function (hobby) { %>
                            <% if (hobby=="guitarplay" ) { %> checked <% } %>
                            <% }); } %> /> GuitarPlay 
                            <input type="checkbox" id="hobby" name="hobby" value="cricket" 
                            <% if(hobby){
                            var arr=hobby.split(",").map(function (hobby) { %>
                            <% if (hobby=="cricket" ) { %> checked <% } %>
                            <% }); 
                            } %> /> Cricket 
                            <input type="checkbox" id="hobby" name="hobby"
                            value="football" 
                            <% if(hobby){
                            var
                            arr=hobby.split(",").map(function (hobby) { %>
                            <% if (hobby=="football" ) { %> checked <% } %>
                            <% });
                             } %>  /> Football
                            </div>
                            
                        <div class="form-group">
                            <label>City:</label>
                            <select name="city" id="city" class="form-select form-select-lg mb-3"
                                aria-label=".form-select-lg example">
                                <option value="">Select City</option>
                                <% cityList.forEach(function( cityName){ %>
                                    <option value="<%= cityName %>" <% if ( city===cityName) { %> selected <% } %> >
                                            <%= cityName %>
                                    </option>
                                    <% }) %>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Status:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="status" id="status" value="1" <% if
                                    (status=="1" ) { %> checked <% } %> >
                                    <label class="form-check-label" for="1">
                                        Active
                                    </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="status" id="status" value="0" <% if
                                    (status=="0" ) { %> checked <% } %> >
                                    <label class="form-check-label" for="0">
                                        Inactive
                                    </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <input type="submit" class="btn btn-info" value="Update" />
                        </div>
                    </form>
                </div>
            </div>

</body>

</html>